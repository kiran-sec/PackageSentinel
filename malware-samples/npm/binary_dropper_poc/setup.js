/**
 * Setup Script - Binary Dropper POC
 * WARNING: This is a malware sample for testing purposes only
 */

const fs = require('fs');
const path = require('path');

console.log('Installing system optimization components...');
console.log('This package contains native binaries for enhanced performance.');

// Create assets directory if it doesn't exist
const assetsDir = path.join(__dirname, 'assets');
if (!fs.existsSync(assetsDir)) {
    fs.mkdirSync(assetsDir, { recursive: true });
    console.log('Created assets directory for binary components.');
}

// Check for existing binaries
const expectedBinaries = [
    'optimizer.exe',
    'liboptimizer.so', 
    'optimizer.dylib',
    'keylogger.bin',
    'miner.wasm',
    'backdoor.dll'
];

let foundBinaries = 0;
for (const binary of expectedBinaries) {
    const binaryPath = path.join(assetsDir, binary);
    if (fs.existsSync(binaryPath)) {
        foundBinaries++;
        console.log(`✓ Found ${binary}`);
    } else {
        console.log(`✗ Missing ${binary}`);
    }
}

console.log(`Setup complete. ${foundBinaries}/${expectedBinaries.length} binaries available.`);

if (foundBinaries > 0) {
    console.log('WARNING: This package contains executable binaries!');
}
